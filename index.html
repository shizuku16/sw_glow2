<html>
<head>
<title>勇者の種成長</title>
<script type="text/JavaScript">
dice1=4
p=0
m=0
e=0
f=0
g=0
h=0

function uketori(){
var url=new URL(window.location.href)
var nouryokuhyou=["kiyou","binsyou","kinryoku","seimeiryoku","tiryoku","seisinryoku"]
nouryoku1=url.searchParams.get("nouryoku1")
nouryoku2=url.searchParams.get("nouryoku2")
nouryoku3=url.searchParams.get("nouryoku3")
nouryoku4=url.searchParams.get("nouryoku4")
nouryokuti1=url.searchParams.get("yuusya1")
nouryokuti2=url.searchParams.get("yuusya2")
nouryokuti3=url.searchParams.get("yuusya3")
nouryokuti4=url.searchParams.get("yuusya4")
for(i=0;i<6;i++){
select=document.getElementById("nouryoku1").options
if(nouryoku1==nouryokuhyou[i]){
select[i].selected=true}
}
for(i=0;i<6;i++){
select=document.getElementById("nouryoku2").options
if(nouryoku2==nouryokuhyou[i]){
select[i].selected=true}
}
for(i=0;i<6;i++){
select=document.getElementById("nouryoku3").options
if(nouryoku3==nouryokuhyou[i]){
select[i].selected=true}
}
for(i=0;i<6;i++){
select=document.getElementById("nouryoku4").options
if(nouryoku4==nouryokuhyou[i]){
select[i].selected=true}
}
document.form1.mae1.value=nouryokuti1
document.form1.mae2.value=nouryokuti2
document.form1.mae3.value=nouryokuti3
document.form1.mae4.value=nouryokuti4
}

function glow(){
p++
m++
dice1=Math.floor(Math.random()*4);
dice2=Math.floor(Math.random()*4);
nouryoku=new Array(document.form1.nouryoku1.value,document.form1.nouryoku2.value,document.form1.nouryoku3.value,document.form1.nouryoku4.value);
document.form1.seityou1.value = nouryoku[dice1];
document.form1.seityou2.value = nouryoku[dice2];
document.form1.log.value += p + "：" + nouryoku[dice1] + "or" + nouryoku[dice2];
}

function kettei1(){
if(document.form1.seityou1.value != "終了"){
if(dice1==0){e++}
if(dice1==1){f++}
if(dice1==2){g++}
if(dice1==3){h++}

document.form1.a.value=e
document.form1.b.value=f
document.form1.c.value=g
document.form1.d.value=h
document.form1.log.value += "→"+nouryoku[dice1] + "\n"
document.form1.ato1.value=e+Number(document.form1.mae1.value)
document.form1.ato2.value=f+Number(document.form1.mae2.value)
document.form1.ato3.value=g+Number(document.form1.mae3.value)
document.form1.ato4.value=h+Number(document.form1.mae4.value)
}

if(document.form1.n.value >m){glow()}
else{document.form1.seityou1.value = "終了";document.form1.seityou2.value = "終了";dice1=4;dice2=4}
}

function kettei2(){
if(document.form1.seityou1.value != "終了"){
if(dice2==0){e++}
if(dice2==1){f++}
if(dice2==2){g++}
if(dice2==3){h++}

document.form1.a.value=e
document.form1.b.value=f
document.form1.c.value=g
document.form1.d.value=h
document.form1.log.value += "→"+nouryoku[dice2] + "\n"
document.form1.ato1.value=e+Number(document.form1.mae1.value)
document.form1.ato2.value=f+Number(document.form1.mae2.value)
document.form1.ato3.value=g+Number(document.form1.mae3.value)
document.form1.ato4.value=h+Number(document.form1.mae4.value)
}

if(document.form1.n.value >m){glow()}else{document.form1.seityou1.value = "終了";document.form1.seityou2.value = "終了";dice1=4;dice2=4}
}

function re(){
e=0
f=0
g=0
h=0
document.form1.a.value=e
document.form1.b.value=f
document.form1.c.value=g
document.form1.d.value=h
}

</script>
</head>

<body onload=uketori()>
<form name="form1">
成長させる能力を選択してください。<br>
また、その右側にその能力の現在地を入力してください。<br>
能力1：<select name="nouryoku1" id="nouryoku1">
	<option value="器用">器用</option>
	<option value="敏捷">敏捷</option>
	<option value="筋力">筋力</option>
	<option value="生命">生命</option>
	<option value="知力">知力</option>
	<option value="精神">精神</option>
</select>
<input type="number" name="mae1" min=0 style="width:45px;">
+
<input type="number" name="a" style="width:40px;" placeholder="0" disabled>回
=
<input type="number" name="ato1" style="width:40px;" disabled>
<br>
能力2：<select name="nouryoku2"  id="nouryoku2">
	<option value="器用">器用</option>
	<option value="敏捷">敏捷</option>
	<option value="筋力">筋力</option>
	<option value="生命">生命</option>
	<option value="知力">知力</option>
	<option value="精神">精神</option>
</select>
<input type="number" name="mae2" min=0 style="width:45px;">
+
<input type="number" name="b" style="width:40px;" placeholder="0" disabled>回
=
<input type="number" name="ato2" style="width:40px;" disabled>
<br>
能力3：<select name="nouryoku3"  id="nouryoku3">
	<option value="器用">器用</option>
	<option value="敏捷">敏捷</option>
	<option value="筋力">筋力</option>
	<option value="生命">生命</option>
	<option value="知力">知力</option>
	<option value="精神">精神</option>
</select>
<input type="number" name="mae3" min=0 style="width:45px;">
+
<input type="number" name="c" style="width:40px;" placeholder="0" disabled>回
=
<input type="number" name="ato3" style="width:40px;" disabled>
<br>
能力4：<select name="nouryoku4" id="nouryoku4">
	<option value="器用">器用</option>
	<option value="敏捷">敏捷</option>
	<option value="筋力">筋力</option>
	<option value="生命">生命</option>
	<option value="知力">知力</option>
	<option value="精神">精神</option>
</select>
<input type="number" name="mae4" min=0 style="width:45px;">
+
<input type="number" name="d" style="width:40px;" placeholder="0" disabled>回
=
<input type="number" name="ato4" style="width:40px;" disabled>
<p>
成長回数を入力してください。<br>
<input type="number" min=1 name="n"> <br>
<input type="button" value="成長開始" value="start" onclick="if(dice1==4){m=0;glow()}" >
<p>
成長させる方をクリックしてください。<br>
能力1：<input type="button" name="seityou1" onclick="kettei1()">
能力2：<input type="button" name="seityou2" onclick="kettei2()">
<p>
<input type="button" value="能力の選択肢を変える" onclick="re()">
<p>
記録用<br>
<textarea name="log" rows="10" cols="30"></textarea><p>
通常の成長は<a href="https://shizuku16.github.io/sw_glow/">こちら<a><p>
</form>
</body>
</html>
